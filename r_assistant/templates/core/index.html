{% extends 'core/base.html' %}
{% load static %}

{% block title %}R语言智能助手 - 专业的R语言学习平台{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Hero Section -->
    <section class="hero-section py-5 my-5">
        <div class="container">
            <div class="row align-items-center min-vh-100">
                <div class="col-lg-6">
                    <div class="hero-content">
                        <h1 class="display-4 fw-bold text-white mb-4 animate-fade-in">
                            <span class="text-gradient">R语言智能助手</span>
                        </h1>
                        <p class="lead text-light mb-5 animate-fade-in-delay">
                            专业的R语言学习与开发助手，集成AI技术，为您提供代码解释、作业求解、智能对话等功能。
                            让R语言学习变得更加简单高效！
                        </p>
                        <div class="d-flex gap-3 mb-5 animate-fade-in-delay-2">
                            <a href="{% url 'core:explain' %}" class="btn btn-primary btn-lg pulse-btn">
                                <i class="fas fa-rocket me-2"></i>立即体验
                            </a>
                            <a href="#features" class="btn btn-outline-light btn-lg">
                                <i class="fas fa-info-circle me-2"></i>了解更多
                            </a>
                        </div>
                        
                        <!-- 统计数据 -->
                        <div class="row text-center">
                            <div class="col-4">
                                <div class="stat-item">
                                    <h3 class="text-primary fw-bold" id="userCount">1000+</h3>
                                    <p class="text-light small">用户使用</p>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <h3 class="text-primary fw-bold" id="codeCount">5000+</h3>
                                    <p class="text-light small">代码解析</p>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <h3 class="text-primary fw-bold" id="problemCount">2000+</h3>
                                    <p class="text-light small">问题解决</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <div class="hero-image text-center">
                        <div class="floating-card glass-effect p-4 rounded-4">
                            <div class="code-preview">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="code-dots">
                                        <span class="dot red"></span>
                                        <span class="dot yellow"></span>
                                        <span class="dot green"></span>
                                    </div>
                                    <span class="text-muted ms-2">R Console</span>
                                </div>
                                <pre class="text-start"><code class="language-r"># 数据分析示例
data <- mtcars
summary(data$mpg)

# 创建可视化
library(ggplot2)
ggplot(data, aes(x=wt, y=mpg)) +
  geom_point() +
  geom_smooth(method="lm")</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Features Section -->
    <section id="features" class="features-section py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-5 fw-bold text-white mb-3">🎯 三大核心功能</h2>
                <p class="lead text-light">专业的AI驱动功能，满足您的所有R语言学习需求</p>
            </div>
            
            <div class="row g-4">
                <!-- 代码解释 -->
                <div class="col-lg-4">
                    <div class="feature-card glass-effect h-100 p-4 rounded-4 hover-lift">
                        <div class="feature-icon text-center mb-4">
                            <i class="fas fa-code fa-3x text-primary glow-icon"></i>
                        </div>
                        <h3 class="text-center text-white mb-3">代码解释</h3>
                        <p class="text-light text-center mb-4">
                            粘贴您的R代码，AI将用通俗易懂的语言为您详细解释每一行代码的功能和作用。
                        </p>
                        <ul class="feature-list text-light">
                            <li><i class="fas fa-check text-primary me-2"></i>逐行代码分析</li>
                            <li><i class="fas fa-check text-primary me-2"></i>函数功能说明</li>
                            <li><i class="fas fa-check text-primary me-2"></i>通俗易懂解释</li>
                            <li><i class="fas fa-check text-primary me-2"></i>学习要点提示</li>
                        </ul>
                        <div class="text-center mt-4">
                            <a href="{% url 'core:explain' %}" class="btn btn-primary btn-lg w-100">
                                <i class="fas fa-play me-2"></i>开始解释
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- 作业求解 -->
                <div class="col-lg-4">
                    <div class="feature-card glass-effect h-100 p-4 rounded-4 hover-lift">
                        <div class="feature-icon text-center mb-4">
                            <i class="fas fa-lightbulb fa-3x text-warning glow-icon"></i>
                        </div>
                        <h3 class="text-center text-white mb-3">作业求解</h3>
                        <p class="text-light text-center mb-4">
                            输入您的R语言作业题目，AI将生成三种不同的解决方案，帮助您学习多种解题思路。
                        </p>
                        <ul class="feature-list text-light">
                            <li><i class="fas fa-check text-warning me-2"></i>三种解决方案</li>
                            <li><i class="fas fa-check text-warning me-2"></i>详细中文注释</li>
                            <li><i class="fas fa-check text-warning me-2"></i>可运行代码</li>
                            <li><i class="fas fa-check text-warning me-2"></i>学习路径指导</li>
                        </ul>
                        <div class="text-center mt-4">
                            <a href="{% url 'core:answer' %}" class="btn btn-warning btn-lg w-100">
                                <i class="fas fa-brain me-2"></i>智能求解
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- 智能对话 -->
                <div class="col-lg-4">
                    <div class="feature-card glass-effect h-100 p-4 rounded-4 hover-lift">
                        <div class="feature-icon text-center mb-4">
                            <i class="fas fa-comments fa-3x text-success glow-icon"></i>
                        </div>
                        <h3 class="text-center text-white mb-3">智能对话</h3>
                        <p class="text-light text-center mb-4">
                            与R语言专家进行友好交流，获取学习建议、编程技巧和专业指导。
                        </p>
                        <ul class="feature-list text-light">
                            <li><i class="fas fa-check text-success me-2"></i>专业R语言指导</li>
                            <li><i class="fas fa-check text-success me-2"></i>友好交流体验</li>
                            <li><i class="fas fa-check text-success me-2"></i>学习路径建议</li>
                            <li><i class="fas fa-check text-success me-2"></i>实时答疑解惑</li>
                        </ul>
                        <div class="text-center mt-4">
                            <a href="{% url 'core:talk' %}" class="btn btn-success btn-lg w-100">
                                <i class="fas fa-comment-dots me-2"></i>开始对话
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Technology Section -->
    <section class="tech-section py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-5 fw-bold text-white mb-3">🛠️ 技术架构</h2>
                <p class="lead text-light">现代化的技术栈，为您提供稳定可靠的服务</p>
            </div>
            
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="tech-card glass-effect p-4 rounded-4 h-100">
                        <h4 class="text-primary mb-3">
                            <i class="fas fa-server me-2"></i>后端技术
                        </h4>
                        <div class="tech-list">
                            <div class="tech-item d-flex align-items-center mb-3">
                                <i class="fab fa-python text-primary me-3"></i>
                                <div>
                                    <strong class="text-white">Django 5.0.14</strong>
                                    <small class="text-muted d-block">强大的Web框架</small>
                                </div>
                            </div>
                            <div class="tech-item d-flex align-items-center mb-3">
                                <i class="fas fa-brain text-primary me-3"></i>
                                <div>
                                    <strong class="text-white">DeepSeek API</strong>
                                    <small class="text-muted d-block">先进的AI语言模型</small>
                                </div>
                            </div>
                            <div class="tech-item d-flex align-items-center mb-3">
                                <i class="fas fa-database text-primary me-3"></i>
                                <div>
                                    <strong class="text-white">SQLite/PostgreSQL</strong>
                                    <small class="text-muted d-block">灵活的数据存储</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="tech-card glass-effect p-4 rounded-4 h-100">
                        <h4 class="text-primary mb-3">
                            <i class="fas fa-palette me-2"></i>前端技术
                        </h4>
                        <div class="tech-list">
                            <div class="tech-item d-flex align-items-center mb-3">
                                <i class="fab fa-bootstrap text-primary me-3"></i>
                                <div>
                                    <strong class="text-white">Bootstrap 5</strong>
                                    <small class="text-muted d-block">现代化UI框架</small>
                                </div>
                            </div>
                            <div class="tech-item d-flex align-items-center mb-3">
                                <i class="fas fa-code text-primary me-3"></i>
                                <div>
                                    <strong class="text-white">Prism.js</strong>
                                    <small class="text-muted d-block">代码语法高亮</small>
                                </div>
                            </div>
                            <div class="tech-item d-flex align-items-center mb-3">
                                <i class="fas fa-magic text-primary me-3"></i>
                                <div>
                                    <strong class="text-white">CSS3动画</strong>
                                    <small class="text-muted d-block">丰富的视觉效果</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Quick Start Section -->
    <section class="quickstart-section py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h2 class="display-5 fw-bold text-white mb-4">🚀 快速开始</h2>
                    <p class="lead text-light mb-4">
                        只需几个简单步骤，就能开始您的R语言学习之旅
                    </p>
                    
                    <div class="step-list">
                        <div class="step-item d-flex align-items-start mb-4">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h5 class="text-white">选择功能</h5>
                                <p class="text-light">从代码解释、作业求解、智能对话中选择您需要的功能</p>
                            </div>
                        </div>
                        
                        <div class="step-item d-flex align-items-start mb-4">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h5 class="text-white">输入内容</h5>
                                <p class="text-light">输入您的代码、问题或想要咨询的内容</p>
                            </div>
                        </div>
                        
                        <div class="step-item d-flex align-items-start mb-4">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h5 class="text-white">获得答案</h5>
                                <p class="text-light">AI将为您提供专业、详细的解答和建议</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <a href="{% url 'core:explain' %}" class="btn btn-primary btn-lg me-3">
                            <i class="fas fa-rocket me-2"></i>立即开始
                        </a>
                        <a href="{% url 'core:history' %}" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-history me-2"></i>查看历史
                        </a>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <div class="demo-preview">
                        <div class="browser-mockup glass-effect">
                            <div class="browser-header">
                                <div class="browser-dots">
                                    <span class="dot red"></span>
                                    <span class="dot yellow"></span>
                                    <span class="dot green"></span>
                                </div>
                                <div class="browser-url">
                                    <i class="fas fa-globe me-2"></i>
                                    R语言智能助手
                                </div>
                            </div>
                            <div class="browser-content">
                                <div class="demo-chat">
                                    <div class="chat-message user">
                                        <strong>用户：</strong>请解释这段R代码的作用
                                    </div>
                                    <div class="chat-message assistant">
                                        <strong>AI助手：</strong>这段代码首先加载了数据集，然后使用ggplot2包创建了一个散点图...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // 数字动画效果
    function animateNumbers() {
        const counters = document.querySelectorAll('#userCount, #codeCount, #problemCount');
        counters.forEach(counter => {
            const target = parseInt(counter.textContent.replace('+', ''));
            const increment = target / 100;
            let current = 0;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    counter.textContent = target + '+';
                    clearInterval(timer);
                } else {
                    counter.textContent = Math.floor(current) + '+';
                }
            }, 30);
        });
    }
    
    // 滚动到视图时触发动画
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateNumbers();
                observer.disconnect();
            }
        });
    });
    
    const heroSection = document.querySelector('.hero-section');
    if (heroSection) {
        observer.observe(heroSection);
    }
    
    // 平滑滚动
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>
{% endblock %}